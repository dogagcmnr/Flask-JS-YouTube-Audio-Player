{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Doga\\\\Desktop\\\\Projects\\\\yt\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Search from './components/Search';\nimport SearchResults from './components/SearchResults';\nimport Playlists from './components/Playlists';\nimport Player from './components/Player';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [playlists, setPlaylists] = useState({});\n  const [currentPlaylist, setCurrentPlaylist] = useState('');\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [loop, setLoop] = useState('none'); // 'none', 'one', 'all'\n\n  const audioRef = useRef(null);\n  useEffect(() => {\n    fetchPlaylists();\n  }, []);\n  const fetchPlaylists = async () => {\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/get_playlists`);\n    setPlaylists(response.data);\n  };\n  const handleSearch = async () => {\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/search?q=${searchQuery}`);\n    setSearchResults(response.data);\n  };\n  const addToPlaylist = async videoId => {\n    await axios.post(`${process.env.REACT_APP_API_URL}/add_to_playlist`, {\n      video_id: videoId,\n      playlist_name: currentPlaylist\n    });\n    fetchPlaylists();\n  };\n  const playTrack = async videoId => {\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/get_audio_url?video_id=${videoId}`);\n    setCurrentTrack({\n      id: videoId,\n      url: response.data.audio_url\n    });\n    setIsPlaying(true);\n    audioRef.current.src = response.data.audio_url;\n    audioRef.current.play();\n  };\n  const togglePlayPause = () => {\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n  const handleLoop = () => {\n    if (loop === 'none') setLoop('one');else if (loop === 'one') setLoop('all');else setLoop('none');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"YouTube Audio Player\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      searchQuery: searchQuery,\n      setSearchQuery: setSearchQuery,\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n      results: searchResults,\n      addToPlaylist: addToPlaylist,\n      playTrack: playTrack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Playlists, {\n      playlists: playlists,\n      currentPlaylist: currentPlaylist,\n      setCurrentPlaylist: setCurrentPlaylist,\n      playTrack: playTrack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Player, {\n      currentTrack: currentTrack,\n      isPlaying: isPlaying,\n      togglePlayPause: togglePlayPause,\n      loop: loop,\n      handleLoop: handleLoop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      onEnded: () => setIsPlaying(false),\n      loop: loop === 'one'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8oMgDSDKUq4AC6PEoEzmhNFgaPI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Search","SearchResults","Playlists","Player","jsxDEV","_jsxDEV","App","_s","searchQuery","setSearchQuery","searchResults","setSearchResults","playlists","setPlaylists","currentPlaylist","setCurrentPlaylist","currentTrack","setCurrentTrack","isPlaying","setIsPlaying","loop","setLoop","audioRef","fetchPlaylists","response","get","process","env","REACT_APP_API_URL","data","handleSearch","addToPlaylist","videoId","post","video_id","playlist_name","playTrack","id","url","audio_url","current","src","play","togglePlayPause","pause","handleLoop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","results","ref","onEnded","_c","$RefreshReg$"],"sources":["C:/Users/Doga/Desktop/Projects/yt/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport Search from './components/Search';\r\nimport SearchResults from './components/SearchResults';\r\nimport Playlists from './components/Playlists';\r\nimport Player from './components/Player';\r\nimport './styles.css';\r\n\r\nfunction App() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [playlists, setPlaylists] = useState({});\r\n  const [currentPlaylist, setCurrentPlaylist] = useState('');\r\n  const [currentTrack, setCurrentTrack] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [loop, setLoop] = useState('none'); // 'none', 'one', 'all'\r\n  \r\n  const audioRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchPlaylists();\r\n  }, []);\r\n\r\n  const fetchPlaylists = async () => {\r\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/get_playlists`);\r\n    setPlaylists(response.data);\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/search?q=${searchQuery}`);\r\n    setSearchResults(response.data);\r\n  };\r\n\r\n  const addToPlaylist = async (videoId) => {\r\n    await axios.post(`${process.env.REACT_APP_API_URL}/add_to_playlist`, {\r\n      video_id: videoId,\r\n      playlist_name: currentPlaylist\r\n    });\r\n    fetchPlaylists();\r\n  };\r\n\r\n  const playTrack = async (videoId) => {\r\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/get_audio_url?video_id=${videoId}`);\r\n    setCurrentTrack({ id: videoId, url: response.data.audio_url });\r\n    setIsPlaying(true);\r\n    audioRef.current.src = response.data.audio_url;\r\n    audioRef.current.play();\r\n  };\r\n\r\n  const togglePlayPause = () => {\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n    } else {\r\n      audioRef.current.play();\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  const handleLoop = () => {\r\n    if (loop === 'none') setLoop('one');\r\n    else if (loop === 'one') setLoop('all');\r\n    else setLoop('none');\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>YouTube Audio Player</h1>\r\n      \r\n      <Search \r\n        searchQuery={searchQuery} \r\n        setSearchQuery={setSearchQuery} \r\n        handleSearch={handleSearch}\r\n      />\r\n\r\n      <SearchResults \r\n        results={searchResults} \r\n        addToPlaylist={addToPlaylist} \r\n        playTrack={playTrack}\r\n      />\r\n\r\n      <Playlists \r\n        playlists={playlists} \r\n        currentPlaylist={currentPlaylist} \r\n        setCurrentPlaylist={setCurrentPlaylist} \r\n        playTrack={playTrack}\r\n      />\r\n\r\n      <Player \r\n        currentTrack={currentTrack}\r\n        isPlaying={isPlaying}\r\n        togglePlayPause={togglePlayPause}\r\n        loop={loop}\r\n        handleLoop={handleLoop}\r\n      />\r\n\r\n      <audio ref={audioRef} onEnded={() => setIsPlaying(false)} loop={loop === 'one'} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}